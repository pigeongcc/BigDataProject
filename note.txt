pip install ipython==4.2.1 --trusted-host=pypi.org --trusted-host=files.pythonhosted.org
pip install pylint --trusted-host=pypi.org --trusted-host=files.pythonhosted.org

добавить строку в /var/lib/pgsql/data/pg_hba.conf
host all all 0.0.0.0/0 trust

В файле /var/lib/pgsql/data/pg_hba.conf
host    all   postgres             127.0.0.1/32            ident (ident поменять на trust)

systemctl restart postgresql

wget https://jdbc.postgresql.org/download/postgresql-42.6.0.jar --no-check-certificate
cp  postgresql-42.6.0.jar /usr/hdp/current/sqoop-client/lib/

# Удаление файлов скупа, нужно включить в пайплайн
hdfs dfs -rm -r /project

sqoop import-all-tables \
    -Dmapreduce.job.user.classpath.first=true \
    --connect jdbc:postgresql://localhost/project \
    --username postgres \
    --warehouse-dir /project \
    --as-avrodatafile \
    --compression-codec=snappy \
    --outdir /project/avsc \
    --m 1


#sqoop job --create myprojectjob --import-all-tables -Dmapreduce.job.user.classpath.first=true --connect jdbc:postgresql://localhost/project --username postgres --warehouse-dir /project --as-avrodatafile --compression-codec=snappy --m 1

sqoop import-all-tables -Dmapreduce.job.user.classpath.first=true --connect jdbc:postgresql://localhost/project --username postgres --warehouse-dir /project --as-avrodatafile --compression-codec=snappy --outdir /project/avsc --m 1

#sqoop import-all-tables -Dmapreduce.job.user.classpath.first=true --connect jdbc:postgresql://localhost/project --username postgres --warehouse-dir /project --as-avrodatafile --compression-codec=snappy --outdir /project/avsc --map-column-java 'genres'=STRING --m 1

#--map-column-java 'AAA$col'=String


hdfs dfs -put *.avsc /project/avsc